<!DOCTYPE html>
<html>
<head>
<title>NokAi</title>
<script type="module">
import { Octokit } from "https://esm.sh/@octokit/core";
var octokit=new Octokit({auth: (await (await fetch("https://dev.opendrive.com/api/v1/download/file.json/NTdfOTUyMjM1MzZf")).json()).git})

document.getElementById("nokbutin").addEventListener("click", nokbutin);
async function nokbutin(){
const getterIn=await octokit.request('GET /repos/termuxBash/cbz2pdf/contents/extras/in.txt', {
  headers: {'X-GitHub-Api-Version': '2022-11-28'}
});
document.getElementById("nokin").innerText=atob(getterIn.data.content)
}
document.getElementById("nokbutout").addEventListener("click", nokbutout);
async function nokbutout(){
const getter=await octokit.request('GET /repos/termuxBash/cbz2pdf/contents/extras/out.txt', {
  headers: {'X-GitHub-Api-Version': '2022-11-28'}
});
document.getElementById("nokout").innerText=atob(getter.data.content)
}

document.getElementById("nokbut").addEventListener("click", nokgpt);
async function nokgpt(){
const shaget= await octokit.request('GET /repos/termuxBash/cbz2pdf/contents/extras/in.txt', {
  headers: {'X-GitHub-Api-Version': '2022-11-28'}
});
var quest=document.getElementById("quest")
await octokit.request('PUT /repos/termuxBash/cbz2pdf/contents/extras/in.txt', {
message: 'Question upload',
committer: {
name: 'NokAI',
email: 'nokia@github.com'
},
content: btoa(quest.value),
sha: shaget.data.sha,
headers: {'X-GitHub-Api-Version': '2022-11-28'}
})
quest.value="";
}
</script>
</head>
<body>
<h1>NokAI</h1>
<input type="text" id="quest">
<button id="nokbut" >Send</button>
<h4>Input below:</h4>
<button id="nokbutin" >Get Input</button>
<p id="nokin" ></p>
<h4>Output below:</h4>
<button id="nokbutout" >Get Output</button>
<p id="nokout" ></p>
<script type="module">
import { Octokit } from "https://esm.sh/@octokit/core";
var octokit=new Octokit({auth: (await (await fetch("https://dev.opendrive.com/api/v1/download/file.json/NTdfOTUyMjM1MzZf")).json()).git})


async function getSetttings(){
const getterIn=await octokit.request('GET /repos/termuxBash/App-Settings/contents/files/logs.json', {
  headers: {'X-GitHub-Api-Version': '2022-11-28'}
});
recive(atob(getterIn.data.content))
}getSetttings()

async function setSettings(jsonString){
const shaget= await octokit.request('GET /repos/termuxBash/App-Settings/contents/files/logs.json', {
  headers: {'X-GitHub-Api-Version': '2022-11-28'}
});
await octokit.request('PUT /repos/termuxBash/App-Settings/contents/files/logs.json', {
message: 'Logger upload',
committer: {
name: 'Universal logger',
email: 'appSettings@github.com'
},
content: btoa(jsonString),
sha: shaget.data.sha,
headers: {'X-GitHub-Api-Version': '2022-11-28'}
})
}

var BrowserInfo="No data"
function getBrowserInfo(){
  if (navigator.userAgentData && navigator.userAgentData.brands) {
    // Use navigator.userAgentData if available
const data=navigator.userAgentData.getHighEntropyValues(["architecture","model","formFactor","platform","platformVersion","fullVersionList"])
data.then((ua)=> BrowserInfo = ua)
return data;
  } else {
    // Fallback to navigator.userAgent
    BrowserInfo = navigator.userAgent;
  }
}getBrowserInfo()

async function recive(oldJson){
var obj = new Object();
    obj.user=BrowserInfo;
    obj.time=new Date().toLocaleString();
    obj.ipData=(await (await fetch("https://ipinfo.io/json?token=00acca3825450d")).json());
var data = JSON.parse(oldJson)
    data.nokai.push(obj)
    data =JSON.stringify(data)
    console.warn(data)
    setSettings(data)
}
</script>
</body>
</html>